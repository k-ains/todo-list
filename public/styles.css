/* ---------- Sunrise palette ---------- */
:root{
  --sun-1:#FFF2BD; --sun-2:#F4D797; --sun-3:#EBB58A; --sun-4:#DA7F7D; --sun-5:#B5728E; --sun-6:#776E99;
  --bg:#FFF2BD;
  --bg-grad: radial-gradient(1200px 800px at 80% -10%, rgba(193, 181, 236, 0.35) 0%, transparent 70%),
             radial-gradient(900px 600px at -10% 20%, rgba(255, 229, 174, 0.25) 0%, transparent 60%),
             linear-gradient(180deg, #9da1c0 0%, #95a2ec 100%);
  --panel: rgba(17,20,48,.72);
  --panel-border: rgba(119,110,153,.45);
  --muted:#e9dcc9; --text:#fffaf1; --accent:var(--sun-4); --accent-2:var(--sun-5); --ring:rgba(219,127,125,.35); --danger:#ff6b7a;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;background:var(--bg-grad);color:var(--text)}

/* layout */
.app{display:grid;grid-template-columns:260px 1fr;grid-template-rows:72px 1fr;grid-template-areas:"sidebar header" "sidebar main";height:100dvh}
.sidebar{grid-area:sidebar;backdrop-filter:blur(6px);background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.02)),linear-gradient(180deg,rgba(18,22,54,.8),rgba(10,13,37,.8));border-right:1px solid var(--panel-border);padding:16px 14px;overflow:auto}
.brand{display:flex;align-items:center;gap:12px;padding:8px 10px;margin-bottom:8px}
.brand .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--sun-4),var(--sun-5));box-shadow:0 6px 18px rgba(218,127,125,.45)}
.brand strong{letter-spacing:.3px}
.nav-section{margin-top:14px}
.nav-section h5{margin:16px 10px 8px;color:var(--muted);font-weight:600;font-size:12px;opacity:.9}
.nav{display:grid;gap:4px;margin:0;padding:0;list-style:none}
.nav button{all:unset;display:flex;align-items:center;gap:10px;width:100%;padding:10px 12px;border-radius:12px;cursor:pointer;color:#fff4df;transition:transform .2s,background .2s,box-shadow .2s}
.nav button:hover{background:#211b3f;box-shadow:inset 0 0 0 1px #3b2d68;transform:translateY(-1px)}
.nav button.active{background:linear-gradient(180deg,#2a2256,#1a173a);box-shadow:inset 0 0 0 1px #5c4a9a}
.nav .tag{margin-left:auto;background:#2a2256;color:#f7ead0;border-radius:10px;padding:2px 8px;font-size:12px}

.header{grid-area:header;display:flex;align-items:center;justify-content:space-between;padding:16px 22px;border-bottom:1px solid var(--panel-border);backdrop-filter:blur(6px)}
.hello{font-weight:700;font-size:18px;letter-spacing:.3px}
.hello small{display:block;color:var(--muted);font-weight:500;margin-top:4px}
.userbox{display:flex;align-items:center;gap:12px}
.userbox .avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--sun-2),var(--sun-5));box-shadow:0 8px 24px rgba(0,0,0,.2)}

.main{grid-area:main;display:grid;grid-template-columns:1.3fr .9fr;gap:20px;padding:20px}
.panel{background:linear-gradient(180deg,rgba(21,25,54,.78),rgba(17,20,48,.78));border:1px solid var(--panel-border);border-radius:18px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.section-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.section-title h3{margin:0;font-size:16px}
.section-title .tabs{display:inline-flex;background:#1a1739;border:1px solid #3b2d68;padding:4px;border-radius:12px}
.section-title .tabs button{all:unset;padding:6px 10px;border-radius:8px;cursor:pointer;color:#f3e3c6;font-weight:600}
.section-title .tabs button.active{background:#352a6b;color:#fffaf1}

/* New Task form now: title | desc | due | Add */
.task-form{
  display:grid;
  grid-template-columns: 1.2fr 1.8fr 0.9fr auto;
  gap:8px;
  margin-bottom:12px;
}

/* Stack nicely on smaller screens */
@media (max-width: 900px){
  .task-form{ grid-template-columns: 1fr; }
}
.input,textarea{background:#141236;border:1px solid #3b2d68;color:var(--text);border-radius:12px;padding:10px 12px;outline:none;transition:box-shadow .2s,transform .12s}
.input:focus,textarea:focus{box-shadow:0 0 0 3px var(--ring)}
.btn{all:unset;cursor:pointer;padding:10px 14px;background:linear-gradient(180deg,var(--accent),#c86a76);border:1px solid #8f4151;border-radius:12px;font-weight:700;letter-spacing:.2px;box-shadow:0 10px 18px rgba(218,127,125,.28);transition:transform .15s,filter .2s}
.btn:hover{filter:brightness(1.05);transform:translateY(-1px)}
.btn.subtle{background:#221d45;border-color:#3b2d68;font-weight:600}

.tasks{display:grid;gap:10px}
.task{display:grid;grid-template-columns:26px 1fr auto;align-items:start;gap:12px;padding:12px;border:1px solid #3b2d68;border-radius:14px;background:#141236;position:relative;overflow:hidden;animation:pop .22s ease both}
.task:hover{box-shadow:0 0 0 1px #5c4a9a}
@keyframes pop{from{transform:translateY(6px);opacity:0}to{transform:translateY(0);opacity:1}}
.check{width:20px;height:20px;border:2px solid #6e557f;border-radius:6px;margin-top:3px;display:grid;place-items:center;cursor:pointer}
.check.done{background:#2a5c49;border-color:#3c8b70}
.check svg{width:14px;height:14px;opacity:0;transition:opacity .15s}
.check.done svg{opacity:1}
.task .name{font-weight:700}
.task .desc{color:#f3e3c6;font-size:13px;margin-top:4px}
.task .actions{display:inline-flex;gap:6px}
.icon-btn{all:unset;cursor:pointer;padding:8px 10px;background:#1c1841;border:1px solid #3b2d68;border-radius:10px;display:inline-flex;align-items:center;gap:8px;font-weight:600;color:#fff1db}
.icon-btn:hover{background:#251f55}
.icon-btn.danger{border-color:#6b1f2b;background:#28121a;color:#ffb3ba}

.sidecards{display:grid;gap:12px}
.card{background:#171543;border:1px solid #3b2d68;border-radius:16px;padding:14px}
.card h4{margin:0 0 10px}
.pill{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid #3b2d68;color:#f7ead0}

/* auth screen */
.auth{max-width:980px;margin:6vh auto;background:linear-gradient(180deg,rgba(21,25,54,.82),rgba(16,20,52,.82));border:1px solid var(--panel-border);border-radius:22px;display:grid;grid-template-columns:1.2fr 1fr;overflow:hidden;box-shadow:0 20px 80px rgba(0,0,0,.35)}
.auth .hero{background:radial-gradient(800px 500px at 30% -10%,rgba(234,181,138,.35) 0%,transparent 60%),#111035;padding:28px;display:grid;align-content:space-between}
.auth .hero h1{margin:0;font-size:28px}
.auth .panel{border:none;border-radius:0;background:transparent;box-shadow:none}
.tabs-auth{display:inline-flex;gap:6px;padding:6px;background:#15123a;border:1px solid #3b2d68;border-radius:12px;margin-bottom:10px}
.tabs-auth button{all:unset;cursor:pointer;padding:8px 12px;border-radius:8px;color:#f3e3c6;font-weight:700}
.tabs-auth button.active{background:#352a6b;color:#fffaf1}
.auth .grid{display:grid;gap:10px}
.hint{color:#f3e3c6;font-size:12px}
.error{color:#ffb3ba}
.fade-enter{opacity:0;transform:translateY(8px)}
.fade-enter-active{opacity:1;transform:none;transition:opacity .22s ease,transform .22s ease}

/* responsive */
@media (max-width:1000px){.app{grid-template-columns:1fr;grid-template-rows:60px auto;grid-template-areas:"header" "main"}.sidebar{display:none}.main{grid-template-columns:1fr}}
.metrics{display:grid;gap:18px}
.metric{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:16px;padding:16px 18px;display:grid;gap:6px}
.metric .label{font-size:14px;opacity:.85;letter-spacing:.2px}
.metric .num{font-size:56px;font-weight:800;line-height:1;letter-spacing:1px}

/* === Drawer (Task Details) === */
.drawer { position: fixed; top: 0; right: 0; width: 380px; max-width: 92vw; height: 100dvh; background: linear-gradient(180deg, rgba(23, 21, 67, .98), rgba(19, 18, 55, .98)); border-left: 1px solid var(--panel-border); box-shadow: -24px 0 60px rgba(0,0,0,.35); transform: translateX(110%); transition: transform .26s ease; z-index: 70; display: grid; grid-template-rows: auto 1fr auto; }
.drawer.open { transform: translateX(0); }
.drawer header { display:flex; align-items:center; justify-content:space-between; gap:10px; padding:14px 16px; border-bottom:1px solid var(--panel-border); background: linear-gradient(180deg, rgba(34, 29, 85, .75), rgba(23, 21, 67, .75)); }
.drawer header .hint{opacity:.9}
.drawer main { padding:14px 16px; display:grid; gap:12px; overflow:auto }
.drawer footer { padding:14px 16px; border-top:1px solid var(--panel-border); display:flex; gap:10px; justify-content:space-between }
.field { display:grid; gap:6px }
.field label { font-size:12px; color: var(--muted); opacity:.95 }
.row2 { display:grid; grid-template-columns: 1fr 1fr; gap:8px }

/* Inputs inside drawer */
.drawer .input, .drawer textarea, .drawer select {
  background:#141236; border:1px solid #3b2d68; color:var(--text);
  border-radius:12px; padding:10px 12px; outline:none;
  transition: box-shadow .2s, transform .12s;
}
.drawer .input:focus, .drawer textarea:focus, .drawer select:focus { box-shadow:0 0 0 3px var(--ring); }

/* Buttons inside drawer */
.drawer .btn { all:unset; cursor:pointer; padding:10px 14px; background:linear-gradient(180deg,var(--accent),#c86a76); border:1px solid #8f4151; border-radius:12px; font-weight:700; letter-spacing:.2px; box-shadow:0 10px 18px rgba(218,127,125,.28); text-align:center; }
.drawer .btn:hover{ filter:brightness(1.05); transform:translateY(-1px); }
.drawer .icon-btn.danger{ border-color:#6b1f2b; background:#28121a; color:#ffb3ba }

/* Drawer close button */
.icon-btn { all:unset; cursor:pointer; padding:8px 10px; background:#1c1841; border:1px solid #3b2d68; border-radius:10px; display:inline-flex; align-items:center; gap:8px; font-weight:600; color:#fff1db }
.icon-btn:hover{ background:#251f55 }

/* Toast (if you use one from utils.js) */
.toast { position: fixed; right: 16px; bottom: 16px; background: #1b173c; border: 1px solid #3b2d68; padding: 10px 14px; border-radius: 12px; color: var(--text); box-shadow: 0 10px 25px rgba(0,0,0,.25); z-index: 120; }
.toast.error{ background:#2a1621; border-color:#6b1f2b; color:#ffccd2 }

/* ===== Layout fix: remove left blank space ===== */
.app { grid-template-columns: 1fr !important; grid-template-areas: "header" "main"; }
.sidebar { display: none !important; }
.main { grid-template-columns: minmax(640px, 1.4fr) minmax(300px, .8fr); }

/* ===== Task chips (due & category) ===== */
.task .top { display:flex; align-items:center; justify-content:space-between; gap:10px; }
.task .chips { display:inline-flex; gap:8px; flex-wrap:wrap; }
.chip { padding:4px 8px; border-radius:999px; border:1px solid #3b2d68; background:#1c1a45; color:#f7ead0; font-size:12px; }
.chip.due { background:#2a224d; border-color:#6d5bb0; }
.chip.cat { background:#1f3a31; border-color:#3f8569; }

/* ===== Drawer refresh ===== */
.drawer { width: 420px; max-width: 92vw; background: radial-gradient(800px 500px at 100% -10%, rgba(219,127,125,.18), transparent 55%), #15143d;
          border-left: 1px solid #3b2d68; border-top-left-radius: 14px; border-bottom-left-radius: 14px; }
.drawer header { padding:16px 16px 10px; }
.drawer main { padding: 12px 16px; }
.drawer footer { padding: 12px 16px 16px; }
.drawer .row2 { display:grid; grid-template-columns: 1fr; gap:8px; } /* we only keep Due date now */

/* category datalist input look */
.input.taglike { padding-right: 6px; }

/* ===== Metrics like iPhone Reminders ===== */
.metrics { display:grid; gap:14px; }
.metric.widget { display:flex; align-items:center; gap:14px; background:#171543; border:1px solid #3b2d68; border-radius:16px; padding:14px; }
.metric.widget .num { font-size:56px; font-weight:800; line-height:1; min-width:64px; text-align:left; }
.metric.widget .titles { display:grid; gap:4px; }
.metric.widget .label { font-size:14px; opacity:.9; }
.metric.widget .lines { font-size:13px; opacity:.9; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
/* Bulleted list inside the widgets */
.metric.widget .list{
  margin: 2px 0 0;
  padding-left: 1.2rem;           /* indentation for bullets */
  list-style: disc;
}
.metric.widget .list li{
  margin: 2px 0;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;         /* long titles clip cleanly */
  opacity: .95;
  font-size: 13px;
}
.metric.widget .list li.empty {
  list-style: none;
  padding-left: 0;
  opacity: .7;
}

